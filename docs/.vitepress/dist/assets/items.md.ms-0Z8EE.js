import{_ as R,p as g,v as B,h as E,c as i,o as u,j as s,a as J,af as I,ag as M,ah as T,F as N,B as q,t as r,ae as U,e as W,N as Q}from"./chunks/framework.CQndfmgb.js";const z={class:"item-browser"},G={class:"toolbar"},H=["value"],K={class:"count"},X={class:"table-wrapper"},Y={class:"item-table"},Z={class:"icon-col"},ee=["src","alt"],te={key:1,class:"item-icon"},ae={class:"mono"},se={class:"text-muted"},le={class:"price"},oe={class:"tags"},ne={class:"tags"},re={key:0,class:"no-results"},ve=JSON.parse('{"title":"ç‰©å“å›¾é‰´","description":"","frontmatter":{"layout":"page"},"headers":[],"relativePath":"items.md","filePath":"items.md"}'),ie={name:"items.md"},ue=Object.assign(ie,{setup(ce){const y=g([]),h=g(""),p=g(""),f=g(""),w=g(""),v=g(0),S={1:{name:"å¸¸è§(lv.1)",color:"#999999"},2:{name:"ç½•è§(lv.2)",color:"#1EFF00"},3:{name:"ç¨€æœ‰(lv.3)",color:"#0070DD"},4:{name:"å²è¯—(lv.4)",color:"#A335EE"},5:{name:"ä¼ è¯´(lv.5)",color:"#FFD700"},6:{name:"ç¥è¯(lv.6)",color:"#FF8000"},7:{name:"è‡³å°Š(lv.7)",color:"#FF0000"},8:{name:"è¿œå¤(lv.8)",color:"#8B00FF"},9:{name:"æ°¸æ’(lv.9)",color:"#FF1493"}},A=a=>!a||typeof a!="string"?!1:a.startsWith("http://")||a.startsWith("https://")||a.startsWith("//"),x=a=>{const e=a.target,t=e.nextElementSibling;t&&t.classList.contains("item-icon")&&(e.style.display="none",t.style.display="inline-block")},V=a=>{const t=["id","nameCN","nameEN","quality"].every(l=>a.hasOwnProperty(l)),o={id:["number","string"],nameCN:"string",nameEN:"string",quality:"number",tags:"object",price:"number",weight:"number",market:"object",image:"string"};if(!t)return{valid:!1,error:"ç¼ºå°‘å¿…éœ€å­—æ®µ"};for(const[l,n]of Object.entries(o))if(a.hasOwnProperty(l)){if(Array.isArray(n)){if(!n.includes(typeof a[l]))return{valid:!1,error:`${l} ç±»å‹ä¸æ­£ç¡®`}}else if(n==="object"){if(!Array.isArray(a[l]))return{valid:!1,error:`${l} åº”è¯¥æ˜¯æ•°ç»„`};if(l==="market"&&a[l].length>0&&!a[l].every(d=>typeof d=="string"))return{valid:!1,error:`${l} æ•°ç»„ä¸­çš„å…ƒç´ å¿…é¡»æ˜¯å­—ç¬¦ä¸²`}}else if(typeof a[l]!==n)return{valid:!1,error:`${l} ç±»å‹ä¸æ­£ç¡®`}}return a.quality<1||a.quality>9?{valid:!1,error:"quality å¿…é¡»åœ¨ 1-9 ä¹‹é—´"}:{valid:!0}};B(async()=>{try{let a=[];try{const o=await fetch("/data/items-list.json");o.ok?(a=(await o.json()).files.map(n=>`/data/items/${n}`),console.log("ğŸ“ è‡ªåŠ¨æ‰«æå‘ç°",a.length,"ä¸ªJSONæ–‡ä»¶")):(a=(await(await fetch("/data/items/manifest.json")).json()).files.map(c=>`/data/items/${c}`),console.log("ğŸ“‹ ä½¿ç”¨ manifest.json:",a.length,"ä¸ªJSONæ–‡ä»¶"))}catch{a=(await(await fetch("/data/items/manifest.json")).json()).files.map(c=>`/data/items/${c}`),console.log("âš ï¸ å›é€€åˆ° manifest.json")}console.log("å‘ç°",a.length,"ä¸ªJSONæ–‡ä»¶");const e=a.map(async o=>{try{const l=await fetch(o);if(!l.ok)return console.warn(`æ–‡ä»¶ä¸å­˜åœ¨: ${o}`),[];const n=await l.json();if(!Array.isArray(n))return console.warn(`${o} ä¸æ˜¯æœ‰æ•ˆçš„æ•°ç»„`),[];const c=[],d=[];return n.forEach((m,_)=>{const C=V(m);C.valid?c.push(m):d.push({index:_,item:m,error:C.error})}),d.length>0&&console.warn(`${o} æœ‰ ${d.length} ä¸ªæ— æ•ˆç‰©å“:`,d),console.log(`âœ“ ${o}: ${c.length} ä¸ªæœ‰æ•ˆç‰©å“`),c}catch(l){return console.warn(`æ— æ³•åŠ è½½ ${o}:`,l),[]}}),t=await Promise.all(e);y.value=t.flat(),console.log("âœ… åŠ è½½å®Œæˆ:",y.value.length,"ä¸ªæœ‰æ•ˆç‰©å“")}catch(a){console.error("âŒ åŠ è½½ç‰©å“æ•°æ®å¤±è´¥:",a)}});const P=E(()=>{const a=[];return y.value.forEach(e=>{e.tags&&Array.isArray(e.tags)&&e.tags.forEach(t=>{a.includes(t)||a.push(t)})}),a.sort()}),$=E(()=>{let a=y.value.filter(e=>{var d,m,_,C,j;if(!h.value||h.value.trim()===""){const F=!p.value||e.tags&&e.tags.includes(p.value),L=!f.value||e.quality===parseInt(f.value);return F&&L}const t=h.value.toLowerCase().trim(),o=t!==""&&((d=e.tags)==null?void 0:d.some(F=>F.toLowerCase().includes(t))),l=t!==""&&(((m=e.nameCN)==null?void 0:m.toLowerCase().includes(t))||((_=e.nameEN)==null?void 0:_.toLowerCase().includes(t))||((C=e.id)==null?void 0:C.toString().includes(t))||((j=e.description)==null?void 0:j.toLowerCase().includes(t))||o),n=!p.value||e.tags&&e.tags.includes(p.value),c=!f.value||e.quality===parseInt(f.value);return(t===""||l)&&n&&c});return w.value&&v.value!==0&&(a=[...a].sort((e,t)=>{let o,l;switch(w.value){case"id":o=parseInt(e.id)||0,l=parseInt(t.id)||0;break;case"quality":o=e.quality||0,l=t.quality||0;break;case"price":o=e.price||0,l=t.price||0;break;case"weight":o=e.weight||0,l=t.weight||0;break;case"nameCN":o=e.nameCN||"",l=t.nameCN||"";break;default:return 0}return typeof o=="string"?v.value===1?o.localeCompare(l):l.localeCompare(o):v.value===1?o-l:l-o})),a}),k=a=>{w.value===a?v.value=(v.value+1)%3:(w.value=a,v.value=1)},b=a=>w.value!==a||v.value===0?"":v.value===1?" â†‘":" â†“",O=a=>new Intl.NumberFormat("zh-CN").format(a),D=a=>a?a.toFixed(2):"0.00";return(a,e)=>(u(),i("div",null,[e[17]||(e[17]=s("h1",{id:"ç‰©å“å›¾é‰´",tabindex:"-1"},[J("ç‰©å“å›¾é‰´ "),s("a",{class:"header-anchor",href:"#ç‰©å“å›¾é‰´","aria-label":'Permalink to "ç‰©å“å›¾é‰´"'},"â€‹")],-1)),s("div",z,[s("div",G,[I(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>h.value=t),placeholder:"æœç´¢ç‰©å“...",class:"search-box"},null,512),[[M,h.value]]),I(s("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>p.value=t),class:"filter-select"},[e[9]||(e[9]=s("option",{value:""},"å…¨éƒ¨æ ‡ç­¾",-1)),(u(!0),i(N,null,q(P.value,t=>(u(),i("option",{key:t,value:t},r(t),9,H))),128))],512),[[T,p.value]]),I(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>f.value=t),class:"filter-select"},[...e[10]||(e[10]=[U('<option value="" data-v-f63dec83>å…¨éƒ¨å“è´¨</option><option value="1" data-v-f63dec83>å¸¸è§(lv.1)</option><option value="2" data-v-f63dec83>ç½•è§(lv.2)</option><option value="3" data-v-f63dec83>ç¨€æœ‰(lv.3)</option><option value="4" data-v-f63dec83>å²è¯—(lv.4)</option><option value="5" data-v-f63dec83>ä¼ è¯´(lv.5)</option><option value="6" data-v-f63dec83>ç¥è¯(lv.6)</option><option value="7" data-v-f63dec83>è‡³å°Š(lv.7)</option><option value="8" data-v-f63dec83>è¿œå¤(lv.8)</option><option value="9" data-v-f63dec83>æ°¸æ’(lv.9)</option>',10)])],512),[[T,f.value]]),s("span",K,"æ˜¾ç¤º: "+r($.value.length)+" / "+r(y.value.length),1)]),s("div",X,[s("table",Y,[s("thead",null,[s("tr",null,[e[11]||(e[11]=s("th",{class:"icon-col"},"å›¾æ ‡",-1)),s("th",{onClick:e[3]||(e[3]=t=>k("id")),class:"sortable"}," ç‰©å“ID"+r(b("id")),1),s("th",{onClick:e[4]||(e[4]=t=>k("nameCN")),class:"sortable"}," ä¸­æ–‡å"+r(b("nameCN")),1),e[12]||(e[12]=s("th",null,"è‹±æ–‡å",-1)),s("th",{onClick:e[5]||(e[5]=t=>k("quality")),class:"sortable"}," å“è´¨"+r(b("quality")),1),s("th",{onClick:e[6]||(e[6]=t=>k("price")),class:"sortable"}," ä»·æ ¼"+r(b("price")),1),s("th",{onClick:e[7]||(e[7]=t=>k("weight")),class:"sortable"}," é‡é‡"+r(b("weight")),1),e[13]||(e[13]=s("th",null,"æ ‡ç­¾",-1)),e[14]||(e[14]=s("th",null,"è´­ä¹°æº",-1))])]),s("tbody",null,[(u(!0),i(N,null,q($.value,t=>{var o,l;return u(),i("tr",{key:t.id,class:"item-row"},[s("td",Z,[A(t.image)?(u(),i(N,{key:0},[s("img",{src:t.image,alt:t.nameCN,class:"item-icon-image",onError:e[8]||(e[8]=n=>x(n))},null,40,ee),e[15]||(e[15]=s("span",{class:"item-icon",style:{display:"none"}},"ğŸ“¦",-1))],64)):(u(),i("span",te,r(t.image||"ğŸ“¦"),1))]),s("td",ae,"#"+r(t.id),1),s("td",null,[s("strong",null,r(t.nameCN),1)]),s("td",se,r(t.nameEN),1),s("td",null,[s("span",{class:"quality-badge",style:Q({color:((o=S[t.quality])==null?void 0:o.color)||"#666"})},r(((l=S[t.quality])==null?void 0:l.name)||"æœªçŸ¥"),5)]),s("td",le,"ğŸ’° "+r(O(t.price||0)),1),s("td",null,"âš–ï¸ "+r(D(t.weight))+" kg",1),s("td",null,[s("div",oe,[(u(!0),i(N,null,q(t.tags||[],n=>(u(),i("span",{key:n,class:"tag"},r(n),1))),128))])]),s("td",null,[s("div",ne,[(u(!0),i(N,null,q(t.market||[],n=>(u(),i("span",{key:n,class:"market-tag"},r(n),1))),128))])])])}),128))])]),$.value.length===0?(u(),i("div",re,[...e[16]||(e[16]=[s("p",null,"ğŸ” æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç‰©å“",-1)])])):W("",!0)])])]))}}),pe=R(ue,[["__scopeId","data-v-f63dec83"]]);export{ve as __pageData,pe as default};
